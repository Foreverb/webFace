{"ast":null,"code":"import _classCallCheck from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\webFace\\\\src\\\\Components\\\\videoWate.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n//等待对方接受视频界面\nimport React, { Component } from 'react';\nimport '../css/videoWate.css';\nimport ChatClient from '../ChatClient';\n\nvar VideoWate = /*#__PURE__*/function (_Component) {\n  _inherits(VideoWate, _Component);\n\n  var _super = _createSuper(VideoWate);\n\n  function VideoWate(props) {\n    _classCallCheck(this, VideoWate);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(VideoWate, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"video\", {\n        className: \"localVideo\",\n        autoPlay: \"autoPlay\",\n        alt: \"\",\n        id: \"localVideo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"remote\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14,\n          columnNumber: 9\n        }\n      }, \"\\u6B63\\u5728\\u7B49\\u5F85\\u5BF9\\u65B9\\u63A5\\u542C...\", /*#__PURE__*/React.createElement(\"video\", {\n        className: \"remoteVideo\",\n        autoPlay: \"autoPlay\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"state\",\n        onClick: function onClick() {\n          return _this.backMain();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"quit\",\n        src: \"https://raw.githubusercontent.com/Foreverb/foreverb.github.io/master/img/break.png\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 11\n        }\n      })));\n    }\n  }, {\n    key: \"backMain\",\n    value: function backMain() {\n      var onClick = this.props.onClick;\n      onClick && onClick();\n      this.stopMediaStream('localVideo');\n    }\n  }, {\n    key: \"stopMediaStream\",\n    value: function stopMediaStream(videoEle) {\n      var videoObj = window.document.getElementById('videoEle');\n      console.log({\n        videoObj: videoObj\n      });\n      var tracks = videoObj.srcObject.getTracks();\n      tracks && tracks.forEach(function (item) {\n        item.stop();\n      });\n    }\n  }]);\n\n  return VideoWate;\n}(Component);\n\nexport default VideoWate;","map":{"version":3,"sources":["D:/webFace/src/Components/videoWate.js"],"names":["React","Component","ChatClient","VideoWate","props","backMain","onClick","stopMediaStream","videoEle","videoObj","window","document","getElementById","console","log","tracks","srcObject","getTracks","forEach","item","stop"],"mappings":";;;;;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,sBAAP;AACA,OAAOC,UAAP,MAAuB,eAAvB;;IAEMC,S;;;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,6BACXA,KADW;AAElB;;;;WACD,kBAAS;AAAA;;AACP,0BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,QAAQ,EAAC,UAAvC;AAAkD,QAAA,GAAG,EAAC,EAAtD;AAAyD,QAAA,EAAE,EAAC,YAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAEE;AAAO,QAAA,SAAS,EAAC,aAAjB;AAA+B,QAAA,QAAQ,EAAC,UAAxC;AAAmD,QAAA,GAAG,EAAC,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAFF,eAME;AAAK,QAAA,SAAS,EAAC,OAAf;AAAuB,QAAA,OAAO,EAAE;AAAA,iBAAM,KAAI,CAACC,QAAL,EAAN;AAAA,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAC,oFAA1B;AAA+G,QAAA,GAAG,EAAC,EAAnH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANF,CADF;AAYD;;;WACD,oBAAW;AAAA,UACHC,OADG,GACS,KAAKF,KADd,CACHE,OADG;AAETA,MAAAA,OAAO,IAAIA,OAAO,EAAlB;AACA,WAAKC,eAAL,CAAqB,YAArB;AACD;;;WACD,yBAAgBC,QAAhB,EAA0B;AACxB,UAAIC,QAAQ,GAAGC,MAAM,CAACC,QAAP,CAAgBC,cAAhB,CAA+B,UAA/B,CAAf;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACL,QAAAA,QAAQ,EAARA;AAAD,OAAZ;AACA,UAAIM,MAAM,GAAGN,QAAQ,CAACO,SAAT,CAAmBC,SAAnB,EAAb;AACAF,MAAAA,MAAM,IAAIA,MAAM,CAACG,OAAP,CAAe,UAAAC,IAAI,EAAE;AAC7BA,QAAAA,IAAI,CAACC,IAAL;AACD,OAFS,CAAV;AAGD;;;;EA9BqBnB,S;;AAgCxB,eAAeE,SAAf","sourcesContent":["//等待对方接受视频界面\r\nimport React, { Component } from 'react';\r\nimport '../css/videoWate.css';\r\nimport ChatClient from '../ChatClient';\r\n\r\nclass VideoWate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='wrap'>\r\n        <video className='localVideo' autoPlay='autoPlay' alt='' id=\"localVideo\"></video>\r\n        <div className='remote'>\r\n          正在等待对方接听...\r\n          <video className='remoteVideo' autoPlay='autoPlay' alt=''></video>\r\n        </div>\r\n        <div className='state' onClick={() => this.backMain()}>\r\n          <img className='quit' src='https://raw.githubusercontent.com/Foreverb/foreverb.github.io/master/img/break.png' alt='' />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  backMain() {\r\n    let { onClick } = this.props;\r\n    onClick && onClick();\r\n    this.stopMediaStream('localVideo')\r\n  }\r\n  stopMediaStream(videoEle) {\r\n    let videoObj = window.document.getElementById('videoEle');\r\n    console.log({videoObj});\r\n    let tracks = videoObj.srcObject.getTracks();\r\n    tracks && tracks.forEach(item=>{\r\n      item.stop()\r\n    })\r\n  }\r\n}\r\nexport default VideoWate;\r\n"]},"metadata":{},"sourceType":"module"}