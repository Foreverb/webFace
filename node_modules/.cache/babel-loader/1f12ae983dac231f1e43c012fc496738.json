{"ast":null,"code":"import _classCallCheck from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\webFace\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\webFace\\\\src\\\\Components\\\\information.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n//用户信息栏\nimport React, { Component } from 'react';\nimport '../css/information.css';\nimport FileUpload from '../fileUpload';\nimport ChatClient from '../ChatClient';\n\nvar Information = /*#__PURE__*/function (_Component) {\n  _inherits(Information, _Component);\n\n  var _super = _createSuper(Information);\n\n  function Information(props) {\n    _classCallCheck(this, Information);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(Information, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      var _this$props = this.props,\n          profile = _this$props.profile,\n          onclose = _this$props.onclose,\n          updateAvatar = _this$props.updateAvatar,\n          chatModePid = _this$props.chatModePid;\n      var nick = profile.nick,\n          ava = profile.ava,\n          id = profile.id;\n      var socket = ChatClient.socket;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"information\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avaAndNick\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"avaWrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: ava,\n        className: \"avater\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"nick\",\n        onClick: function onClick(e) {\n          _this._startChange(e);\n        },\n        onKeyDown: function onKeyDown(e) {\n          e.keyCode === 13 && _this._endChange(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }\n      }, nick)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"online\",\n        style: onclose ? {\n          backgroundColor: 'red'\n        } : {\n          backgroundColor: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(This, id, chatModePid, socket, profile, updateAvatar) {\n      FileUpload.upgradeAva(This, id, chatModePid, socket, profile, updateAvatar);\n    }\n  }, {\n    key: \"_startChange\",\n    value: function _startChange(e) {\n      e.target.setAttribute('contenteditable', true);\n      e.target.focus();\n      e.target.innerText = '';\n    }\n  }, {\n    key: \"_endChange\",\n    value: function _endChange(e) {\n      var onClick = this.props.onClick;\n      var inner = e.target.innerText;\n\n      if (inner.length > 7 || inner.length < 2) {\n        alert('请输入正确格式:输入内容长度必须为大于2小于8的有效字符');\n        e.target.innerText = '';\n        e.target.focus();\n        return;\n      }\n\n      e.target.setAttribute('contenteditable', false);\n      e.target.blur();\n      onClick && onClick(inner);\n    }\n  }]);\n\n  return Information;\n}(Component);\n\nexport default Information;","map":{"version":3,"sources":["D:/webFace/src/Components/information.js"],"names":["React","Component","FileUpload","ChatClient","Information","props","profile","onclose","updateAvatar","chatModePid","nick","ava","id","socket","e","_startChange","keyCode","_endChange","backgroundColor","This","upgradeAva","target","setAttribute","focus","innerText","onClick","inner","length","alert","blur"],"mappings":"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","sourcesContent":["//用户信息栏\r\nimport React, { Component } from 'react';\r\nimport '../css/information.css';\r\nimport FileUpload from '../fileUpload';\r\nimport ChatClient from '../ChatClient';\r\nclass Information extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    let { profile, onclose, updateAvatar, chatModePid } = this.props;\r\n    let { nick, ava, id } = profile;\r\n    let socket = ChatClient.socket;\r\n    return (\r\n      <div className='information'>\r\n        <div className=\"avaAndNick\">\r\n          {/* <img src='' className='loading' alt='' /> */}\r\n          <div className=\"avaWrap\">\r\n            {/* <form encType=\"multipart/form-data\" id='avaApgrade'>\r\n              <input type='file' required name=\"thumbnail\" onClick={(e) => { this.uploadFile(e.target, id, chatModePid, socket, profile, updateAvatar) }} />\r\n            </form> */}\r\n            <img src={ava} className='avater' alt='' />\r\n          </div>\r\n          <p className='nick' onClick={(e) => { this._startChange(e) }}\r\n            onKeyDown={(e) => { e.keyCode === 13 && this._endChange(e) }}>{nick}</p>\r\n        </div>\r\n\r\n        <div className='online' style={onclose ? { backgroundColor: 'red' } : { backgroundColor: 'green' }}></div>\r\n      </div>\r\n    )\r\n  }\r\n  uploadFile(This, id, chatModePid, socket, profile, updateAvatar) {\r\n    FileUpload.upgradeAva(This, id, chatModePid, socket, profile, updateAvatar)\r\n  }\r\n  _startChange(e) {\r\n    e.target.setAttribute('contenteditable', true);\r\n    e.target.focus();\r\n    e.target.innerText = '';\r\n  }\r\n  _endChange(e) {\r\n    let { onClick } = this.props;\r\n    let inner = e.target.innerText;\r\n    if (inner.length > 7 || inner.length < 2) {\r\n      alert('请输入正确格式:输入内容长度必须为大于2小于8的有效字符');\r\n      e.target.innerText = '';\r\n      e.target.focus();\r\n      return\r\n    }\r\n    e.target.setAttribute('contenteditable', false);\r\n    e.target.blur();\r\n    onClick && onClick(inner);\r\n  }\r\n}\r\nexport default Information;\r\n"]},"metadata":{},"sourceType":"module"}